#side Compartmentalization is Power
	#author AgentE382 (Martin Simpkins, Jr.)
	#date 27 July 2014
	#seed 3 1 2

	#code ; common routines, consts, vars, & vectors
		
		#const fighter-channel 2
		#const help-me 1

	#type E-Man ; siphon gatherer
		#hardware
			engine .125
			syphon 5 1
			eater 3
			food-sensor 8 1
			armor 50
			energy 3000 25
			processor 40
		#code

		#vector move-target
		
		choose-random:
			0 9 random random-angle polar-to-rect position v+ move-target!
		return
		
		close-to-target:
			position move-target dist swap <
		return
		
		check-stuff:
			enemy-collision shot-collision or if
				position help-me 3 fighter-channel send
			then
			friendly-collision 1 close-to-target^ and if
				choose-random^
			then
		return
		
		move-to:
			do .25 close-to-target^ until
				check-stuff^
				move-target seek-location
			loop
		return
		
		move-random:
			choose-random^
			move-to^
		return

		#start
		
		do
			food-collision nif
				fire-food-sensor
				food-found 0 > if
					food-position move-target!
				else
					choose-random^
				then
				move-to^
			then
		forever

	#type A-Man ; active defender
		#hardware
		#code
	
	#type G-Man ; colony
		#hardware
		#code
#end
